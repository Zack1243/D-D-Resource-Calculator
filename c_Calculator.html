<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to the d&d resource Calculator for Tipsy Gypsies!</title>
</head>
<body>

    <h1>Welcome to the Calculator!</h1>

    <label for="hexes">Enter number of Hexes:</label>
    <input 
        id="hexes"
        type="number"
        class="custom"
        size="32"
        inputmode="numeric"
    />

    <p></p>
    <label for="people">Enter number of People:</label>
    <input 
        id="people"
        type="number"
        class="custom"
        size="32"
        inputmode="numeric"
    />
  
    <p></p>
    <label for="food">Enter the caravan's food supply:</label>
    <input 
        id="food"
        type="number"
        class="custom"
        size="32"
        inputmode="numeric"
    />
  
    <p></p>
    <label for="water">Enter the caravan's water supply:</label>
    <input 
        id="water"
        type="number"
        class="custom"
        size="32"
        inputmode="numeric"
    />

    <p><br></p>
    <p id="resultText"></p>
    <button
        id="calculate"
        disabled="true"
        name="calculate"
    >
        Calculate
    </button>

    <script>
        // JavaScript code
        function activateScript() {
            var hexesValue = parseFloat(document.getElementById("hexes").value);
            var peopleValue = parseFloat(document.getElementById("people").value);
            var foodValue = parseFloat(document.getElementById("food").value);
            var waterValue = parseFloat(document.getElementById("water").value);

            if (!isNaN(hexesValue) && !isNaN(peopleValue) && !isNaN(foodValue) && !isNaN(waterValue)) {
                let days = Math.floor(hexesValue / 4);
                if (hexesValue % 4 !== 0) {
                    days++;
                }
                let food_rq = days * peopleValue;
                let water_rq = days * peopleValue;

                if (foodValue > food_rq) {
                    food_rq = 0;
                } else {
                    food_rq -= foodValue;
                }

                if (waterValue > water_rq) { 
                    water_rq = 0;
                } else {
                    water_rq -= waterValue;
                }

                let result = (food_rq * 5) + (water_rq * 2);
                document.getElementById("resultText").innerHTML = "Cost of the journey: " + result + " silver";
                
            }
        }

        // Adding click event listener to the button
        document.getElementById("calculate").addEventListener("click", activateScript);
    </script>

</body>
</html>
